# La Naci√≥n Radio Mobile App - Documentaci√≥n T√©cnica y Resumen del Proyecto

## üìå Visi√≥n General
Aplicaci√≥n m√≥vil desarrollada en Flutter para "La Naci√≥n Radio", la plataforma de radio y podcast de La Naci√≥n (Venezuela). Integra transmisi√≥n en vivo, podcasts, feed de noticias, directorio de empresas, Reels de Instagram y YouTube, todo gestionado desde un backend centralizado en WordPress.

---

## üõ†Ô∏è Stack Tecnol√≥gico

*   **Frontend:** Flutter (Dart) - Soporte Multiplataforma (Android, iOS, Web/PWA).
*   **Backend:** WordPress con Plugin personalizado (`La Naci√≥n Radio Core`) y API REST.
*   **Servicios Cloud:** Firebase (Analytics, Messaging, Core).
*   **APIs Externas:** YouTube Data API, Instagram Graph API.
*   **CI/CD:** GitHub Actions para despliegue autom√°tico de versi√≥n Web.

---

## üìÇ Estructura del Proyecto

### 1. Directorios Clave
*   `lib/`: C√≥digo fuente de la aplicaci√≥n Flutter.
    *   `dashboard/`: L√≥gica principal (Controladores, Modelos, Vistas).
    *   `widgets/`: Componentes reutilizables de UI (Tarjetas, Reproductores, Navegaci√≥n).
    *   `config/`: Constantes, temas y estilos globales.
*   `backend-plugin/`: C√≥digo fuente del plugin maestro para WordPress.
*   `.github/workflows/`: Configuraci√≥n de GitHub Actions para despliegue autom√°tico.
*   `android/` & `ios/`: Configuraci√≥n nativa por plataforma.

### 2. Plugins y Funcionalidades Principales
*   `audio_service` & `just_audio`: Manejo de audio en segundo plano y streaming.
*   `firebase_core`, `_messaging`, `_analytics`: Notificaciones y m√©tricas.
*   `provider`: Gesti√≥n de estado.
*   `webview_flutter`: Visualizaci√≥n de noticias dentro de la app.
*   `cached_network_image`: Optimizaci√≥n de carga de im√°genes.

---

## üöÄ Funcionalidades Implementadas

### A. Experiencia de Usuario (Frontend)
1.  **Radio & Podcast:**
    *   Streaming en vivo 24/7.
    *   Reproductor de podcasts con lista de episodios.
    *   **Audio Pre-roll:** Sistema de inyecci√≥n de publicidad antes de iniciar el stream.
    *   Mini-reproductor persistente en toda la navegaci√≥n.
2.  **Noticias:**
    *   Feed visual con tarjetas estilo "Glassmorphism".
    *   Lectura de art√≠culos integrada sin salir de la app.
3.  **Directorio de Empresas:**
    *   Listado categorizado.
    *   Detalle de empresa con botones de acci√≥n r√°pida (WhatsApp, Web, Instagram).
4.  **Multimedia:**
    *   Secci√≥n de Reels (formato vertical).
    *   Integraci√≥n de videos de YouTube.

### B. Gesti√≥n de Contenido (Backend WordPress)
El plugin `backend-plugin/la-nacion-radio-core` habilita:
*   **Custom Post Types:** "Programas", "Empresas", "Publicidad".
*   **API REST Personalizada:** Endpoints optimizados (`/wp-json/api/...`) para alimentar la app.

---

## üíæ Estructura de Datos (WordPress + ACF)

Para que la app funcione correctamente, el backend debe tener configurados los siguientes campos personalizados (ACF) asociados a los Post Types creados por el plugin:

### 1. Programas (`lnr_program`)
*   `podcast_audio_url` (URL): Enlace directo al archivo MP3 o stream.
*   `podcast_description` (Text Area): Breve descripci√≥n para el reproductor.
*   `podcast_image` (Image): Portada cuadrada del programa/episodio.
*   `program_schedule` (Text): Horario de emisi√≥n (ej: "Lunes a Viernes 8 AM").
*   `program_announcers` (Repeater/Text): Nombres de los locutores.

### 2. Empresas (`lnr_company`)
*   `company_field` (Select/Text): Categor√≠a del negocio (ej: "Restaurante", "Salud").
*   `company_image` (Image): Logo o foto del local.
*   `company_priority` (Boolean/TrueFalse): Si es `true`, aparece en destacados.
*   **Grupo `company_urls`:**
    *   `company_url_web` (URL): Sitio web oficial.
    *   `company_url_whatsapp` (URL): Link `wa.me/...` o n√∫mero.
    *   `company_url_instagram` (URL): Link al perfil o usuario.
*   **Grupo `company_schedule` (Repeater):**
    *   `company_schedule_days`: D√≠as (ej: "Lunes - Viernes").
    *   `company_schedule_time_start`: Hora apertura.
    *   `company_schedule_time_end`: Hora cierre.

### 3. Publicidad (`lnr_ad`)
*   `ad_image` (Image): Banner visual.
*   `ad_url` (URL): Destino al hacer clic.
*   `ad_audio_url` (URL): (Opcional) Archivo de audio para anuncios pre-roll.
*   `ad_position` (Select): D√≥nde se muestra (Home, Player, News).

---

## üé® Design System & Assets

*   **Colores:**
    *   Primario: `#004899` (Azul Corporativo La Naci√≥n).
    *   Fondo: `#121212` (Dark Theme base).
    *   Superficies: Glassmorphism (Negro con transparencia y blur).
*   **Tipograf√≠a:**
    *   T√≠tulos: `Montserrat` (Bold/ExtraBold).
    *   Cuerpo: `Poppins` (Regular/Medium).
*   **Iconos:** SVGs ubicados en `assets/icons/`.

---

## ‚öôÔ∏è Configuraci√≥n y Despliegue

### Requisitos Previos
*   Flutter SDK Stable.
*   Cuenta de Firebase (para `google-services.json`).
*   Sitio WordPress con el plugin `La Naci√≥n Radio Core` instalado y ACF Pro activo.

### Comandos √ötiles
*   **Ejecutar (M√≥vil):** `flutter run`
*   **Ejecutar (Web):** `flutter run -d chrome`
*   **Compilar APK:** `flutter build apk --release`
*   **Compilar Web:** `flutter build web --release`

### Despliegue Web Autom√°tico
Configurado v√≠a GitHub Actions. Al hacer push a `main`, el sistema compila la versi√≥n web y la sube al servidor configurado (FTP o Firebase Hosting) definido en los "Secrets" del repositorio.

---

## üîÆ Roadmap T√©cnico (Futuro)

1.  **Modo Offline:**
    *   Implementar base de datos local (`Hive` o `Isar`) para cachear noticias y estructura del directorio.
    *   Gestor de descargas (`dio` + `path_provider`) para guardar episodios de podcast y escucharlos sin conexi√≥n.
2.  **B√∫squeda Global:**
    *   Crear un √≠ndice unificado que permita buscar noticias, empresas y podcasts desde una sola barra de b√∫squeda.
3.  **Notificaciones Segmentadas:**
    *   Usar "Topics" de Firebase para que el usuario se suscriba solo a lo que le interesa (ej: "Deportes", "Sucesos", "Radio en Vivo").
4.  **Login de Usuarios:**
    *   Implementar autenticaci√≥n para permitir "Favoritos" y sincronizaci√≥n entre dispositivos.
